<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Python Learning Simulation</title>
  <script src="https://cdn.jsdelivr.net/pyodide/v0.23.4/full/pyodide.js"></script>
  <style>
    body { font-family: Arial; background: #f9f9f9; margin: 0; padding: 0; }
    header { background: #4CAF50; color: white; text-align: center; padding: 20px; }
    .container { max-width: 900px; margin: auto; padding: 20px; }
    .level-btn { display: inline-block; background: #4CAF50; color: white; padding: 10px 20px; margin: 10px; text-decoration: none; border-radius: 5px; }
    .level-btn:hover { background: #45a049; }
    .lesson { background: white; border: 1px solid #ccc; border-radius: 5px; padding: 15px; margin-top: 15px; }
    textarea { width: 100%; height: 150px; font-family: monospace; }
    .btn { padding: 10px 20px; background: #4CAF50; color: white; border: none; border-radius: 5px; cursor: pointer; }
    .btn:hover { background: #45a049; }
    .output { background: #f1f1f1; border: 1px solid #ccc; padding: 10px; min-height: 50px; margin-top: 10px; white-space: pre-wrap; }
    .xp-bar { background: #ddd; border-radius: 10px; margin: 10px 0; }
    .xp-fill { height: 20px; background: #4CAF50; border-radius: 10px; width: 0%; }
  </style>
</head>
<body>
  <header>
    <h1>üêç Learn Python by Doing</h1>
    <div class="xp-bar">
      <div class="xp-fill" id="xpFill"></div>
    </div>
    <p>XP: <span id="xp">0</span>/100</p>
  </header>
  <div class="container">
    <h2>Select a Level</h2>
    <a href="#" class="level-btn" onclick="loadLesson('Basics')"> Basics</a>
    <a href="#" class="level-btn" onclick="loadLesson('Intermediate')"> Intermediate</a>
    <a href="#" class="level-btn" onclick="loadLesson('Advanced')"> Advanced</a>

    <div id="lessonArea"></div>
  </div>

  <script>
    let xp = 0;
    let pyodideReadyPromise = loadPyodide();

    function updateXP(points) {
      xp += points;
      document.getElementById('xp').textContent = xp;
      const xpFill = document.getElementById('xpFill');
      xpFill.style.width = (xp % 100) + '%';
    }

    async function runCode() {
      const outputDiv = document.getElementById("output");
      outputDiv.textContent = "‚è≥ Running...";
      try {
        const pyodide = await pyodideReadyPromise;
        const code = document.getElementById("code").value;
        let result = await pyodide.runPythonAsync(code);
        outputDiv.textContent = result !== undefined ? result : "‚úÖ Code ran successfully (no output)";
        updateXP(10);
      } catch (err) {
        outputDiv.textContent = "‚ùå Error:\n" + err;
      }
    }

    function loadLesson(level) {
      const lessonArea = document.getElementById("lessonArea");
      lessonArea.innerHTML = `
        <div class="lesson">
          <h3>${level} - Lesson 1: Print Statements</h3>
          <p>üë®‚Äçüè´ <strong>Objective:</strong> Learn to use <code>print()</code> in Python.</p>
          <textarea id="code">print("Hello, ${level} World!")</textarea><br>
          <button class="btn" onclick="runCode()">‚ñ∂ Run Code</button>
          <div class="output" id="output">üëâ Output will appear here</div>
        </div>`;
    }
  </script>
</body>
</html>
